{% extends "layouts/atomic_layout.html" %}

{% block title %}Analytics Dashboard - SustainaTrend™ Intelligence Platform{% endblock %}
{% block meta_description %}Advanced analytics dashboard for sustainability intelligence. View trends, predictions and key metrics for your sustainability data.{% endblock %}

{% block head_extras %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/atomic-analytics.css') }}">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/recharts/umd/Recharts.min.js"></script>
{% endblock %}

{% block nav_analytics_active %}active{% endblock %}

{% block breadcrumbs %}
<li class="st-breadcrumb__item">
  <a href="/atomic-home" class="st-breadcrumb__link">Home</a>
</li>
<li class="st-breadcrumb__item">
  <span class="st-breadcrumb__divider">/</span>
  <a href="/analytics-dashboard-atomic" class="st-breadcrumb__link">Analytics</a>
</li>
{% endblock %}

{% block breadcrumb_current %}Advanced Analytics{% endblock %}

{% block page_title %}Sustainability Analytics Dashboard{% endblock %}
{% block page_description %}Advanced AI-powered analytics for monitoring sustainability performance and trends{% endblock %}

{% block page_actions %}
<button class="st-button st-button--primary">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
  <span>Export Report</span>
</button>
<button class="st-button st-button--outline">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
  <span>Share</span>
</button>
{% endblock %}

{% block tabs_navigation %}
<div class="st-tabs">
  <div class="st-tabs__list">
    <button class="st-tabs__tab st-tabs__tab--active">Overview</button>
    <button class="st-tabs__tab">Environmental</button>
    <button class="st-tabs__tab">Social</button>
    <button class="st-tabs__tab">Governance</button>
    <button class="st-tabs__tab">Predictions</button>
    <button class="st-tabs__tab">Reports</button>
  </div>
</div>
{% endblock %}

{% block left_column %}
<div class="st-section">
  <div class="st-section__header">
    <h2 class="st-section__title">Filters</h2>
  </div>
  <div class="st-section__content">
    <div class="st-form-group">
      <label class="st-label">Time Period</label>
      <select class="st-select">
        <option value="last-30-days">Last 30 Days</option>
        <option value="last-90-days">Last 90 Days</option>
        <option value="last-6-months">Last 6 Months</option>
        <option value="last-year" selected>Last Year</option>
        <option value="custom">Custom Range</option>
      </select>
    </div>
    
    <div class="st-date-range st-hidden">
      <div class="st-form-row">
        <div class="st-form-col">
          <div class="st-form-group">
            <label class="st-label">Start Date</label>
            <input type="date" class="st-input" />
          </div>
        </div>
        <div class="st-form-col">
          <div class="st-form-group">
            <label class="st-label">End Date</label>
            <input type="date" class="st-input" />
          </div>
        </div>
      </div>
    </div>
    
    <div class="st-form-group">
      <label class="st-label">Categories</label>
      <div class="st-checkbox-group">
        <label class="st-checkbox">
          <input type="checkbox" checked />
          <span class="st-checkbox__indicator"></span>
          <span class="st-checkbox__label">Carbon Emissions</span>
        </label>
        <label class="st-checkbox">
          <input type="checkbox" checked />
          <span class="st-checkbox__indicator"></span>
          <span class="st-checkbox__label">Energy Consumption</span>
        </label>
        <label class="st-checkbox">
          <input type="checkbox" checked />
          <span class="st-checkbox__indicator"></span>
          <span class="st-checkbox__label">Water Usage</span>
        </label>
        <label class="st-checkbox">
          <input type="checkbox" checked />
          <span class="st-checkbox__indicator"></span>
          <span class="st-checkbox__label">Waste Management</span>
        </label>
        <label class="st-checkbox">
          <input type="checkbox" checked />
          <span class="st-checkbox__indicator"></span>
          <span class="st-checkbox__label">Social Metrics</span>
        </label>
      </div>
    </div>
    
    <div class="st-form-group">
      <label class="st-label">Business Units</label>
      <select class="st-select" multiple>
        <option value="all" selected>All Units</option>
        <option value="north-america">North America</option>
        <option value="europe">Europe</option>
        <option value="asia-pacific">Asia Pacific</option>
        <option value="manufacturing">Manufacturing</option>
        <option value="logistics">Logistics</option>
      </select>
    </div>
    
    <div class="st-form-group">
      <label class="st-label">Comparison</label>
      <div class="st-radio-group">
        <label class="st-radio">
          <input type="radio" name="comparison" value="previous-period" checked />
          <span class="st-radio__indicator"></span>
          <span class="st-radio__label">Previous Period</span>
        </label>
        <label class="st-radio">
          <input type="radio" name="comparison" value="year-over-year" />
          <span class="st-radio__indicator"></span>
          <span class="st-radio__label">Year-over-Year</span>
        </label>
        <label class="st-radio">
          <input type="radio" name="comparison" value="industry-average" />
          <span class="st-radio__indicator"></span>
          <span class="st-radio__label">Industry Average</span>
        </label>
      </div>
    </div>
    
    <button class="st-button st-button--full">Apply Filters</button>
    <button class="st-button st-button--text st-button--full">Reset</button>
  </div>
</div>

<div class="st-section">
  <div class="st-section__header">
    <h2 class="st-section__title">Sustainability Goals</h2>
  </div>
  <div class="st-section__content">
    <div class="st-goals-list">
      <div class="st-goal-item">
        <div class="st-goal-item__header">
          <div class="st-goal-item__icon st-goal-item__icon--on-track">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
          </div>
          <h3 class="st-goal-item__title">Carbon Neutrality by 2025</h3>
        </div>
        <div class="st-goal-item__details">
          <div class="st-goal-item__progress-info">
            <span class="st-goal-item__status">On Track</span>
            <span class="st-goal-item__percentage">73%</span>
          </div>
          <span class="st-goal-item__date">Target: Dec 2025</span>
        </div>
      </div>
      
      <div class="st-goal-item">
        <div class="st-goal-item__header">
          <div class="st-goal-item__icon st-goal-item__icon--at-risk">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
          </div>
          <h3 class="st-goal-item__title">100% Renewable Energy</h3>
        </div>
        <div class="st-goal-item__details">
          <div class="st-goal-item__progress-info">
            <span class="st-goal-item__status st-goal-item__status--at-risk">At Risk</span>
            <span class="st-goal-item__percentage">48%</span>
          </div>
          <span class="st-goal-item__date">Target: Jun 2024</span>
        </div>
      </div>
      
      <div class="st-goal-item">
        <div class="st-goal-item__header">
          <div class="st-goal-item__icon st-goal-item__icon--behind">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
          </div>
          <h3 class="st-goal-item__title">Zero Waste to Landfill</h3>
        </div>
        <div class="st-goal-item__details">
          <div class="st-goal-item__progress-info">
            <span class="st-goal-item__status st-goal-item__status--behind">Behind</span>
            <span class="st-goal-item__percentage">31%</span>
          </div>
          <span class="st-goal-item__date">Target: Dec 2023</span>
        </div>
      </div>
      
      <div class="st-goal-item">
        <div class="st-goal-item__header">
          <div class="st-goal-item__icon st-goal-item__icon--on-track">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
          </div>
          <h3 class="st-goal-item__title">30% Diversity in Leadership</h3>
        </div>
        <div class="st-goal-item__details">
          <div class="st-goal-item__progress-info">
            <span class="st-goal-item__status">On Track</span>
            <span class="st-goal-item__percentage">82%</span>
          </div>
          <span class="st-goal-item__date">Target: Dec 2023</span>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block center_column %}
<div class="st-section">
  <div class="st-section__header">
    <h2 class="st-section__title">Key Performance Indicators</h2>
  </div>
  <div class="st-section__content">
    <div class="st-kpi-grid">
      <div class="st-kpi-card st-kpi-card--positive">
        <div class="st-kpi-card__icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"/><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"/><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"/><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"/><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"/></svg>
        </div>
        <div class="st-kpi-card__content">
          <div class="st-kpi-card__title">ESG Score</div>
          <div class="st-kpi-card__value">83</div>
          <div class="st-kpi-card__trend">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m5 15 7-7 7 7"/></svg>
            12%
          </div>
        </div>
      </div>
      
      <div class="st-kpi-card st-kpi-card--negative">
        <div class="st-kpi-card__icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 22 16 2"/><path d="M22 16 16 2"/><path d="M8 16H2v6"/><path d="M22 10v6h-6"/></svg>
        </div>
        <div class="st-kpi-card__content">
          <div class="st-kpi-card__title">Carbon Emissions</div>
          <div class="st-kpi-card__value">126.8</div>
          <div class="st-kpi-card__trend st-trend-down">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m19 9-7 7-7-7"/></svg>
            8.3%
          </div>
        </div>
      </div>
      
      <div class="st-kpi-card st-kpi-card--positive">
        <div class="st-kpi-card__icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18.338 2.337a4 4 0 0 0-6.014 1.011l-2.416 4.023a4 4 0 0 0 .599 4.632l.424.425-8.578 8.575a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0l8.577-8.578.424.424a4 4 0 0 0 4.633.599l4.023-2.416a4 4 0 0 0 1.01-6.015l-5.51-5.508z"/><path d="m15 9-1-3"/><path d="M11.374 7.152c-2.362-1.61-5.606-1.854-8.195.738L17.206 19c2.591-2.591 2.35-5.834.737-8.195"/></svg>
        </div>
        <div class="st-kpi-card__content">
          <div class="st-kpi-card__title">Renewable Energy</div>
          <div class="st-kpi-card__value">47%</div>
          <div class="st-kpi-card__trend">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m5 15 7-7 7 7"/></svg>
            15%
          </div>
        </div>
      </div>
      
      <div class="st-kpi-card st-kpi-card--neutral">
        <div class="st-kpi-card__icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 9v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"/><path d="M16 2v6h6"/><path d="m12 18 3-3-3-3"/><path d="m8 12 3 3 3-3"/></svg>
        </div>
        <div class="st-kpi-card__content">
          <div class="st-kpi-card__title">Waste Recycled</div>
          <div class="st-kpi-card__value">73%</div>
          <div class="st-kpi-card__trend">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m5 15 7-7 7 7"/></svg>
            2%
          </div>
        </div>
      </div>
      
      <div class="st-kpi-card st-kpi-card--positive">
        <div class="st-kpi-card__icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v0a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v0z"/><path d="M3 14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v0a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v0z"/><path d="M17 22H5a2 2 0 0 1-2-2v0a2 2 0 0 1 2-2h12"/><path d="M19 17v4"/><path d="M21 19h-4"/></svg>
        </div>
        <div class="st-kpi-card__content">
          <div class="st-kpi-card__title">Social Impact</div>
          <div class="st-kpi-card__value">91</div>
          <div class="st-kpi-card__trend">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m5 15 7-7 7 7"/></svg>
            7%
          </div>
        </div>
      </div>
      
      <div class="st-kpi-card st-kpi-card--neutral">
        <div class="st-kpi-card__icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/><path d="M3 9V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v4"/><path d="M3 14h3m3 0h3m3 0h3m-12 4h3m3 0h3"/></svg>
        </div>
        <div class="st-kpi-card__content">
          <div class="st-kpi-card__title">Governance</div>
          <div class="st-kpi-card__value">85</div>
          <div class="st-kpi-card__trend">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m5 15 7-7 7 7"/></svg>
            3%
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="st-analytics-grid">
  <div class="st-analytics-item">
    <div class="st-analytics-item__header">
      <h3 class="st-analytics-item__title">Carbon Emissions Trend</h3>
      <div class="st-analytics-item__actions">
        <button class="st-button st-button--icon-only st-button--sm">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        </button>
        <button class="st-button st-button--icon-only st-button--sm">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>
        </button>
      </div>
    </div>
    <div class="st-analytics-item__chart" id="carbon-chart"></div>
    <div class="st-analytics-item__insights">
      <p><strong>AI Insight:</strong> Your carbon emissions are trending down by 8.3% compared to last year. The biggest reduction came from the manufacturing division after implementing new energy-efficient technologies.</p>
    </div>
  </div>
  
  <div class="st-analytics-item">
    <div class="st-analytics-item__header">
      <h3 class="st-analytics-item__title">Energy Usage Breakdown</h3>
      <div class="st-analytics-item__actions">
        <button class="st-button st-button--icon-only st-button--sm">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        </button>
        <button class="st-button st-button--icon-only st-button--sm">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>
        </button>
      </div>
    </div>
    <div class="st-analytics-item__chart" id="energy-chart"></div>
    <div class="st-analytics-item__insights">
      <p><strong>AI Insight:</strong> Renewable energy now accounts for 47% of your total energy consumption. Solar installations at the European facilities contributed to a 15% increase in renewable usage.</p>
    </div>
  </div>
  
  <div class="st-analytics-item">
    <div class="st-analytics-item__header">
      <h3 class="st-analytics-item__title">Water Usage by Facility</h3>
      <div class="st-analytics-item__actions">
        <button class="st-button st-button--icon-only st-button--sm">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        </button>
        <button class="st-button st-button--icon-only st-button--sm">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>
        </button>
      </div>
    </div>
    <div class="st-analytics-item__chart" id="water-chart"></div>
    <div class="st-analytics-item__insights">
      <p><strong>AI Insight:</strong> Water usage has improved by 5% overall. The Asian facilities have shown the most significant improvement with a 12% reduction through process optimization.</p>
    </div>
  </div>
  
  <div class="st-analytics-item">
    <div class="st-analytics-item__header">
      <h3 class="st-analytics-item__title">Waste Management</h3>
      <div class="st-analytics-item__actions">
        <button class="st-button st-button--icon-only st-button--sm">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        </button>
        <button class="st-button st-button--icon-only st-button--sm">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>
        </button>
      </div>
    </div>
    <div class="st-analytics-item__chart" id="waste-chart"></div>
    <div class="st-analytics-item__insights">
      <p><strong>AI Insight:</strong> Recycling rates have modestly increased by 2%. The Zero Waste initiative is behind schedule with only 31% progress toward the goal. Recommend implementing the proposed circular economy initiatives.</p>
    </div>
  </div>
</div>
{% endblock %}

{% block right_column %}
<div class="st-section">
  <div class="st-section__header">
    <h2 class="st-section__title">AI Recommendations</h2>
    <div class="st-section__actions">
      <button class="st-button st-button--icon-only st-button--sm">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
      </button>
    </div>
  </div>
  <div class="st-section__content">
    <div class="st-recommendation-list">
      <div class="st-recommendation">
        <div class="st-recommendation__icon st-recommendation__icon--high">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9"/><path d="M13 2v7h7"/><path d="m14 14.5 3 3"/><path d="m17 14.5-3 3"/><path d="M9 11.5v.1"/><path d="M9 16.5v.1"/></svg>
        </div>
        <div class="st-recommendation__content">
          <h4 class="st-recommendation__title">Accelerate Renewable Energy Investment</h4>
          <p class="st-recommendation__description">The current renewable energy transition is at risk of missing targets. Based on market analysis, increasing solar capacity at the North American facilities could help achieve the 100% renewable goal.</p>
          <div class="st-recommendation__details">
            <span class="st-recommendation__impact">High Impact</span>
            <span class="st-recommendation__difficulty">Medium Difficulty</span>
            <span class="st-recommendation__timeframe">6-12 months</span>
          </div>
        </div>
      </div>
      
      <div class="st-recommendation">
        <div class="st-recommendation__icon st-recommendation__icon--medium">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22V3"/><path d="M15.5 6H10c-1.5 0-3 1.8-3 4s1.5 4 3 4h5c1.5 0 3 1.8 3 4s-1.5 4-3 4h-5"/></svg>
        </div>
        <div class="st-recommendation__content">
          <h4 class="st-recommendation__title">Implement Circular Economy Program</h4>
          <p class="st-recommendation__description">The waste reduction initiative is significantly behind schedule. A circular economy approach focusing on product design, packaging, and recovery systems could accelerate progress toward the zero waste goal.</p>
          <div class="st-recommendation__details">
            <span class="st-recommendation__impact">High Impact</span>
            <span class="st-recommendation__difficulty">High Difficulty</span>
            <span class="st-recommendation__timeframe">12-18 months</span>
          </div>
        </div>
      </div>
      
      <div class="st-recommendation">
        <div class="st-recommendation__icon st-recommendation__icon--low">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 9v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9"/><path d="M9 22V12h6v10"/><path d="M2 10.6 12 2l10 8.6"/></svg>
        </div>
        <div class="st-recommendation__content">
          <h4 class="st-recommendation__title">Optimize Water Reclamation Systems</h4>
          <p class="st-recommendation__description">While water usage has improved overall, manufacturing facilities could benefit from advanced water reclamation systems. Projected water savings could reach 20% with minimal process disruption.</p>
          <div class="st-recommendation__details">
            <span class="st-recommendation__impact">Medium Impact</span>
            <span class="st-recommendation__difficulty">Low Difficulty</span>
            <span class="st-recommendation__timeframe">3-6 months</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="st-section">
  <div class="st-section__header">
    <h2 class="st-section__title">Top Metrics</h2>
  </div>
  <div class="st-section__content">
    <div class="st-metrics-list">
      <div class="st-metric-item">
        <div class="st-metric-item__header">
          <div class="st-metric-item__name">GHG Emissions (Scope 1)</div>
          <div class="st-metric-item__value">
            68.4 <span class="st-metric-item__unit">tCO2e</span>
          </div>
        </div>
        <div class="st-metric-item__progress">
          <div class="st-progress">
            <div class="st-progress__bar" style="width: 68%; background-color: var(--color-success);"></div>
          </div>
          <div class="st-metric-item__target">
            Target: <span class="st-metric-item__current">50</span>
          </div>
        </div>
      </div>
      
      <div class="st-metric-item">
        <div class="st-metric-item__header">
          <div class="st-metric-item__name">GHG Emissions (Scope 2)</div>
          <div class="st-metric-item__value">
            58.4 <span class="st-metric-item__unit">tCO2e</span>
          </div>
        </div>
        <div class="st-metric-item__progress">
          <div class="st-progress">
            <div class="st-progress__bar" style="width: 73%; background-color: var(--color-success);"></div>
          </div>
          <div class="st-metric-item__target">
            Target: <span class="st-metric-item__current">45</span>
          </div>
        </div>
      </div>
      
      <div class="st-metric-item">
        <div class="st-metric-item__header">
          <div class="st-metric-item__name">Energy Intensity</div>
          <div class="st-metric-item__value">
            89.7 <span class="st-metric-item__unit">kWh/unit</span>
          </div>
        </div>
        <div class="st-metric-item__progress">
          <div class="st-progress">
            <div class="st-progress__bar" style="width: 60%; background-color: var(--color-warning);"></div>
          </div>
          <div class="st-metric-item__target">
            Target: <span class="st-metric-item__current">75</span>
          </div>
        </div>
      </div>
      
      <div class="st-metric-item">
        <div class="st-metric-item__header">
          <div class="st-metric-item__name">Water Withdrawal</div>
          <div class="st-metric-item__value">
            418 <span class="st-metric-item__unit">m³</span>
          </div>
        </div>
        <div class="st-metric-item__progress">
          <div class="st-progress">
            <div class="st-progress__bar" style="width: 40%; background-color: var(--color-danger);"></div>
          </div>
          <div class="st-metric-item__target">
            Target: <span class="st-metric-item__current">350</span>
          </div>
        </div>
      </div>
      
      <div class="st-metric-item">
        <div class="st-metric-item__header">
          <div class="st-metric-item__name">Waste Diversion Rate</div>
          <div class="st-metric-item__value">
            73% <span class="st-metric-item__unit"></span>
          </div>
        </div>
        <div class="st-metric-item__progress">
          <div class="st-progress">
            <div class="st-progress__bar" style="width: 73%; background-color: var(--color-warning);"></div>
          </div>
          <div class="st-metric-item__target">
            Target: <span class="st-metric-item__current">100%</span>
          </div>
        </div>
      </div>
      
      <div class="st-metric-item">
        <div class="st-metric-item__header">
          <div class="st-metric-item__name">Employee Satisfaction</div>
          <div class="st-metric-item__value">
            87% <span class="st-metric-item__unit"></span>
          </div>
        </div>
        <div class="st-metric-item__progress">
          <div class="st-progress">
            <div class="st-progress__bar" style="width: 87%; background-color: var(--color-success);"></div>
          </div>
          <div class="st-metric-item__target">
            Target: <span class="st-metric-item__current">85%</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Carbon Emissions Chart
    const carbonCtx = document.getElementById('carbon-chart').getContext('2d');
    const carbonChart = new Chart(carbonCtx, {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        datasets: [
          {
            label: 'Current Year',
            data: [142, 138, 135, 130, 128, 126, 125, 127, 126, 124, 125, 126.8],
            borderColor: 'rgba(var(--color-primary-rgb), 1)',
            backgroundColor: 'rgba(var(--color-primary-rgb), 0.1)',
            borderWidth: 2,
            tension: 0.4,
            fill: true
          },
          {
            label: 'Previous Year',
            data: [150, 148, 145, 147, 146, 144, 143, 142, 140, 138, 139, 138.5],
            borderColor: 'rgba(var(--color-muted-rgb), 0.7)',
            borderWidth: 1.5,
            borderDash: [5, 5],
            tension: 0.4,
            fill: false
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'top',
            labels: {
              boxWidth: 10,
              usePointStyle: true
            }
          }
        },
        scales: {
          y: {
            beginAtZero: false,
            title: {
              display: true,
              text: 'tCO2e'
            }
          }
        }
      }
    });

    // Energy Usage Chart
    const energyCtx = document.getElementById('energy-chart').getContext('2d');
    const energyChart = new Chart(energyCtx, {
      type: 'doughnut',
      data: {
        labels: ['Solar', 'Wind', 'Hydro', 'Natural Gas', 'Grid Electricity'],
        datasets: [{
          data: [25, 15, 7, 18, 35],
          backgroundColor: [
            'rgba(var(--color-success-rgb), 0.7)',
            'rgba(var(--color-info-rgb), 0.7)',
            'rgba(var(--color-primary-rgb), 0.7)',
            'rgba(var(--color-warning-rgb), 0.7)',
            'rgba(var(--color-danger-rgb), 0.7)'
          ],
          borderColor: [
            'rgba(var(--color-success-rgb), 1)',
            'rgba(var(--color-info-rgb), 1)',
            'rgba(var(--color-primary-rgb), 1)',
            'rgba(var(--color-warning-rgb), 1)',
            'rgba(var(--color-danger-rgb), 1)'
          ],
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'right',
            labels: {
              boxWidth: 10,
              usePointStyle: true
            }
          }
        }
      }
    });

    // Water Usage Chart
    const waterCtx = document.getElementById('water-chart').getContext('2d');
    const waterChart = new Chart(waterCtx, {
      type: 'bar',
      data: {
        labels: ['North America', 'Europe', 'Asia', 'Latin America', 'Africa'],
        datasets: [
          {
            label: 'Current Year',
            data: [145, 127, 98, 110, 85],
            backgroundColor: 'rgba(var(--color-primary-rgb), 0.7)'
          },
          {
            label: 'Previous Year',
            data: [152, 135, 112, 118, 90],
            backgroundColor: 'rgba(var(--color-muted-rgb), 0.5)'
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'top',
            labels: {
              boxWidth: 10,
              usePointStyle: true
            }
          }
        },
        scales: {
          y: {
            beginAtZero: false,
            title: {
              display: true,
              text: 'Cubic Meters (m³)'
            }
          }
        }
      }
    });

    // Waste Management Chart
    const wasteCtx = document.getElementById('waste-chart').getContext('2d');
    const wasteChart = new Chart(wasteCtx, {
      type: 'pie',
      data: {
        labels: ['Recycled', 'Composted', 'Reused', 'Energy Recovery', 'Landfill'],
        datasets: [{
          data: [45, 18, 10, 10, 17],
          backgroundColor: [
            'rgba(var(--color-success-rgb), 0.7)',
            'rgba(var(--color-info-rgb), 0.7)',
            'rgba(var(--color-primary-rgb), 0.7)',
            'rgba(var(--color-warning-rgb), 0.7)',
            'rgba(var(--color-danger-rgb), 0.7)'
          ],
          borderColor: [
            'rgba(var(--color-success-rgb), 1)',
            'rgba(var(--color-info-rgb), 1)',
            'rgba(var(--color-primary-rgb), 1)',
            'rgba(var(--color-warning-rgb), 1)',
            'rgba(var(--color-danger-rgb), 1)'
          ],
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'right',
            labels: {
              boxWidth: 10,
              usePointStyle: true
            }
          }
        }
      }
    });

    // Time period selector logic
    const timeSelect = document.querySelector('.st-select');
    const dateRange = document.querySelector('.st-date-range');
    
    timeSelect.addEventListener('change', function() {
      if (this.value === 'custom') {
        dateRange.classList.remove('st-hidden');
      } else {
        dateRange.classList.add('st-hidden');
      }
    });
  });
</script>
{% endblock %}