/* 
 * SustainaTrendâ„¢ Intelligence Platform
 * Framework CSS - Specialized Components for Sustainability Analytics
 */

/* Sustainability Trend Specific Components */

/* Trend Score Circle */
.trend-score-circle {
  --score: 50;
  width: 52px;
  height: 52px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 1.125rem;
  background: conic-gradient(
    var(--primary-color) calc(var(--score) * 1%),
    var(--neutral-200) 0
  );
  position: relative;
}

.trend-score-circle::before {
  content: "";
  position: absolute;
  inset: 5px;
  border-radius: 50%;
  background-color: white;
}

.trend-score-circle span {
  position: relative;
  z-index: 1;
}

/* Trend List */
.unified-trend-items {
  display: flex;
  flex-direction: column;
}

.unified-trend-item {
  display: flex;
  padding: var(--space-md);
  border-bottom: 1px solid var(--neutral-200);
  gap: var(--space-md);
  transition: background-color var(--transition-fast);
}

.unified-trend-item:last-child {
  border-bottom: none;
}

.unified-trend-item:hover {
  background-color: var(--neutral-50);
}

.trend-content {
  flex: 1;
  min-width: 0; /* Fix for flex child not respecting parent width */
}

.trend-content h3 {
  margin-bottom: var(--space-xs);
  font-size: 1.125rem;
  color: var(--neutral-900);
}

.trend-content p {
  margin-bottom: var(--space-sm);
  color: var(--neutral-700);
  font-size: 0.9375rem;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.trend-meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-sm);
  font-size: 0.75rem;
}

.trend-category {
  padding: calc(var(--space-xs) / 2) var(--space-xs);
  background-color: var(--primary-ultralight);
  color: var(--primary-dark);
  border-radius: 4px;
  font-weight: 500;
}

.trend-category[data-category="Energy"] {
  background-color: rgba(255, 152, 0, 0.1);
  color: #E65100;
}

.trend-category[data-category="Carbon"] {
  background-color: rgba(96, 125, 139, 0.1);
  color: #455A64;
}

.trend-category[data-category="Water"] {
  background-color: rgba(3, 169, 244, 0.1);
  color: #0277BD;
}

.trend-category[data-category="Waste"] {
  background-color: rgba(121, 85, 72, 0.1);
  color: #5D4037;
}

.trend-category[data-category="Social"] {
  background-color: rgba(156, 39, 176, 0.1);
  color: #7B1FA2;
}

.trend-category[data-category="Governance"] {
  background-color: rgba(63, 81, 181, 0.1);
  color: #303F9F;
}

.trend-source {
  color: var(--neutral-600);
}

.trend-date {
  color: var(--neutral-600);
}

.trend-growth {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  font-weight: 600;
  font-size: 0.875rem;
  color: var(--neutral-600);
}

.trend-growth.trend-up {
  color: var(--success-color);
}

.trend-growth.trend-down {
  color: var(--error-color);
}

.trend-growth.trend-up svg {
  transform: rotate(0deg);
}

.trend-growth.trend-down svg {
  transform: rotate(180deg);
}

/* Sustainability Metrics Cards */
.sustainability-metric-card {
  background-color: white;
  border-radius: var(--card-border-radius);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
  transition: transform var(--transition-normal), box-shadow var(--transition-normal);
}

.sustainability-metric-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-md);
}

.metric-card-header {
  padding: var(--space-md);
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
}

.metric-card-title {
  margin-bottom: var(--space-xs);
  font-size: 1rem;
  color: var(--neutral-700);
}

.metric-card-value {
  font-size: 1.75rem;
  font-weight: 600;
  color: var(--neutral-900);
  margin-bottom: var(--space-xs);
}

.metric-card-change {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  font-size: 0.875rem;
  font-weight: 500;
}

.metric-card-change.positive {
  color: var(--success-color);
}

.metric-card-change.negative {
  color: var(--error-color);
}

.metric-card-change svg {
  width: 16px;
  height: 16px;
}

.metric-card-change.positive svg {
  transform: rotate(-45deg);
}

.metric-card-change.negative svg {
  transform: rotate(45deg);
}

.metric-card-icon {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--primary-ultralight);
  color: var(--primary-color);
}

.metric-card-chart {
  height: 80px;
  width: 100%;
  padding: 0 var(--space-md) var(--space-md);
}

/* Real Estate Property Card */
.property-card {
  background-color: white;
  border-radius: var(--card-border-radius);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
  transition: transform var(--transition-normal), box-shadow var(--transition-normal);
}

.property-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-md);
}

.property-card-image {
  width: 100%;
  height: 180px;
  object-fit: cover;
}

.property-card-content {
  padding: var(--space-md);
}

.property-card-title {
  font-size: 1.125rem;
  font-weight: 600;
  margin-bottom: var(--space-xs);
  color: var(--neutral-900);
}

.property-card-subtitle {
  color: var(--neutral-600);
  margin-bottom: var(--space-md);
  font-size: 0.9375rem;
}

.property-card-metrics {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-md);
  margin-bottom: var(--space-md);
}

.property-metric {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.property-metric-value {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--neutral-900);
}

.property-metric-label {
  font-size: 0.75rem;
  color: var(--neutral-600);
}

.property-epc-rating {
  display: flex;
  gap: var(--space-xs);
  margin-bottom: var(--space-md);
}

.epc-bar {
  flex: 1;
  height: 8px;
  border-radius: 4px;
  background-color: var(--neutral-200);
}

.epc-bar-a {
  background-color: #00A651;
}

.epc-bar-b {
  background-color: #50B848;
}

.epc-bar-c {
  background-color: #C4D600;
}

.epc-bar-d {
  background-color: #FFED00;
}

.epc-bar-e {
  background-color: #FBAF17;
}

.epc-bar-f {
  background-color: #F15A2A;
}

.epc-bar-g {
  background-color: #ED1C24;
}

.epc-bar.active {
  position: relative;
}

.epc-bar.active::after {
  content: "";
  position: absolute;
  top: -4px;
  left: 50%;
  transform: translateX(-50%);
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background-color: inherit;
  border: 2px solid white;
  box-shadow: var(--shadow-sm);
}

.property-card-actions {
  display: flex;
  gap: var(--space-sm);
}

/* Sustainability Story Card */
.story-card {
  background-color: white;
  border-radius: var(--card-border-radius);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
  transition: transform var(--transition-normal), box-shadow var(--transition-normal);
  height: 100%;
  display: flex;
  flex-direction: column;
}

.story-card:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-md);
}

.story-card-image {
  width: 100%;
  height: 180px;
  object-fit: cover;
}

.story-card-content {
  padding: var(--space-md);
  flex: 1;
  display: flex;
  flex-direction: column;
}

.story-card-meta {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  margin-bottom: var(--space-sm);
  font-size: 0.75rem;
  color: var(--neutral-600);
}

.story-card-category {
  padding: calc(var(--space-xs) / 2) var(--space-xs);
  background-color: var(--primary-ultralight);
  color: var(--primary-dark);
  border-radius: 4px;
  font-weight: 500;
}

.story-card-date {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
}

.story-card-date svg {
  width: 14px;
  height: 14px;
}

.story-card-title {
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: var(--space-sm);
  color: var(--neutral-900);
}

.story-card-excerpt {
  color: var(--neutral-700);
  margin-bottom: var(--space-md);
  font-size: 0.9375rem;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  flex: 1;
}

.story-card-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: auto;
}

.story-card-stats {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  font-size: 0.75rem;
  color: var(--neutral-600);
}

.story-card-stat {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
}

/* Insight Panel */
.insight-panel {
  background-color: white;
  border-radius: var(--card-border-radius);
  box-shadow: var(--shadow-md);
  overflow: hidden;
}

.insight-panel-header {
  padding: var(--space-md) var(--space-lg);
  background-color: var(--primary-ultralight);
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

.insight-panel-icon {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: white;
  color: var(--primary-color);
  box-shadow: var(--shadow-sm);
}

.insight-panel-title {
  margin-bottom: 0;
  font-size: 1.25rem;
  color: var(--primary-dark);
}

.insight-panel-content {
  padding: var(--space-lg);
}

.insight-item {
  margin-bottom: var(--space-lg);
  padding-bottom: var(--space-lg);
  border-bottom: 1px solid var(--neutral-200);
}

.insight-item:last-child {
  margin-bottom: 0;
  padding-bottom: 0;
  border-bottom: none;
}

.insight-item-title {
  margin-bottom: var(--space-sm);
  font-size: 1.125rem;
  color: var(--neutral-900);
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.insight-item-title svg {
  color: var(--primary-color);
}

.insight-item-content {
  color: var(--neutral-700);
  font-size: 0.9375rem;
  margin-bottom: var(--space-md);
}

.insight-metrics {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-md);
  margin-top: var(--space-md);
  padding: var(--space-md);
  background-color: var(--neutral-50);
  border-radius: 8px;
}

.insight-metric {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.insight-metric-value {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--neutral-900);
}

.insight-metric-label {
  font-size: 0.75rem;
  color: var(--neutral-600);
}

/* Sustainability Framework Classes */
.framework-score {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  margin-bottom: var(--space-md);
  padding: var(--space-md);
  border-radius: 8px;
  background-color: var(--neutral-50);
}

.framework-score-circle {
  --score: 50;
  width: 64px;
  height: 64px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 1.25rem;
  background: conic-gradient(
    var(--primary-color) calc(var(--score) * 1%),
    var(--neutral-200) 0
  );
  position: relative;
}

.framework-score-circle::before {
  content: "";
  position: absolute;
  inset: 6px;
  border-radius: 50%;
  background-color: white;
}

.framework-score-circle span {
  position: relative;
  z-index: 1;
}

.framework-score-content {
  flex: 1;
}

.framework-score-title {
  font-size: 1.125rem;
  font-weight: 600;
  margin-bottom: var(--space-xs);
  color: var(--neutral-900);
}

.framework-score-description {
  font-size: 0.875rem;
  color: var(--neutral-600);
}

.framework-list {
  margin-bottom: var(--space-lg);
}

.framework-item {
  display: flex;
  align-items: flex-start;
  gap: var(--space-md);
  padding: var(--space-md);
  border-bottom: 1px solid var(--neutral-200);
}

.framework-item:last-child {
  border-bottom: none;
}

.framework-item-icon {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--primary-ultralight);
  color: var(--primary-color);
  flex-shrink: 0;
}

.framework-item-content {
  flex: 1;
}

.framework-item-title {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: var(--space-xs);
  color: var(--neutral-900);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.framework-compliance {
  padding: var(--space-xs) var(--space-sm);
  font-size: 0.75rem;
  font-weight: 600;
  border-radius: 4px;
}

.framework-compliance-high {
  background-color: rgba(76, 175, 80, 0.1);
  color: var(--success-color);
}

.framework-compliance-medium {
  background-color: rgba(255, 193, 7, 0.1);
  color: var(--warning-color);
}

.framework-compliance-low {
  background-color: rgba(244, 67, 54, 0.1);
  color: var(--error-color);
}

.framework-item-description {
  font-size: 0.875rem;
  color: var(--neutral-700);
}

/* Specialized Trend Analysis Components */
.trend-analysis-chart {
  height: 300px;
  margin-bottom: var(--space-lg);
}

.trend-forecast {
  padding: var(--space-md);
  background-color: var(--primary-ultralight);
  border-radius: 8px;
  margin-bottom: var(--space-lg);
}

.trend-forecast-title {
  margin-bottom: var(--space-sm);
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--primary-dark);
}

.trend-forecast-content {
  display: flex;
  align-items: center;
  gap: var(--space-lg);
}

.trend-forecast-value {
  font-size: 2rem;
  font-weight: 700;
  color: var(--primary-color);
}

.trend-forecast-description {
  flex: 1;
  font-size: 0.9375rem;
  color: var(--neutral-700);
}

.trend-impact-list {
  margin-bottom: var(--space-lg);
}

.trend-impact-item {
  display: flex;
  align-items: flex-start;
  gap: var(--space-md);
  padding: var(--space-md);
  border-bottom: 1px solid var(--neutral-200);
}

.trend-impact-item:last-child {
  border-bottom: none;
}

.trend-impact-icon {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(3, 169, 244, 0.1);
  color: #0277BD;
  flex-shrink: 0;
}

.trend-impact-content {
  flex: 1;
}

.trend-impact-title {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: var(--space-xs);
  color: var(--neutral-900);
}

.trend-impact-description {
  font-size: 0.875rem;
  color: var(--neutral-700);
}

/* Custom Trend Analysis Elements */
.unified-trending-list {
  max-height: 600px;
  overflow-y: auto;
}